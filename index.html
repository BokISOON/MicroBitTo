<!DOCTYPE html>
<html>
<head>
    <title>Micro:bit USB 시리얼 온도 읽기</title>
</head>
<body>
    <button id="connectBtn">마이크로비트 연결</button>
    <pre id="output">온도 데이터 대기 중...</pre>

<script>
async function connect() {
    const port = await navigator.serial.requestPort();
    await port.open({ baudRate: 115200 });

    const textDecoder = new TextDecoderStream();
    port.readable.pipeTo(textDecoder.writable);
    const reader = textDecoder.readable.getReader();

    while (true) {
        const { value, done } = await reader.read();
        if (done) break;
        console.log('Received:', value);
        document.getElementById('output').textContent += value;
    }
}
document.getElementById('connectBtn').addEventListener('click', connect);
</script>
</body>
</html>
